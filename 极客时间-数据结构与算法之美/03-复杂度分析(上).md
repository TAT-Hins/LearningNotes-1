## 为什么需要时间复杂度分析

把代码跑一遍，通过统计、监控，就能得到算法执行的时间和占用的内存大小。为什么还要做时间、空间复杂度分析？

1.  测试结果非常依赖测试环境
2.  测试结果受到数据规模的影响很大

我们需要一个不用具体的测试数据来测试，就可以粗略地估计算法的执行效率的方法。

## 大 O

```
T(n) = O(f(n))
```

`T(n)` 表示代码执行的时间，`n` 表示数据规模的大小，`f(n)` 表示每行代码执行的次数总和。

大 O 时间复杂度实际上并不具体表示代码真正的执行时间，而是表示 **代码执行时间随数据规模增长的变化趋势**，所以，也叫作 **渐进时间复杂度（asymptotic time complexity）**，简称 **时间复杂度**。

## 时间复杂度

1. 只关注循环次数最多的一段代码
2. 加法法则：总复杂度等于量级最大的那段代码的复杂度
3. 乘法法则：嵌套代码的复杂度等于嵌套内外代码复杂度的乘积

![](https://static001.geekbang.org/resource/image/37/0a/3723793cc5c810e9d5b06bc95325bf0a.jpg)

`O(1)` ，常数级别，代码执行时间不随着 n 增大而增大

`O(logn)`，对数阶时间复杂度

不管是 `log2 n ` ，还是 `log3 n` ，都写为 `log n` 。因为 `log3n =  log3 2 * log2 n` ，常数 `log3 2` 可以省略，统一为 log n 。

## 空间复杂度

**表示算法的存储空间和数据规模之间的增长关系。**


常见时间复杂度执行效率：

![](https://static001.geekbang.org/resource/image/49/04/497a3f120b7debee07dc0d03984faf04.jpg)